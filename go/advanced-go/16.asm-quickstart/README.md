Go汇编语言 - 快速开始
------------------

> Plan9汇编语言是【Plan9系统上C编译器】输出的【汇编伪代码】。

Go汇编语言必须以Go包的方式组织，同时包中至少要有一个Go语言文件用于指明当前包名等基本包信息。如果Go汇编代码中定义的变量和函数要被其他Go语言代码引用，还需要在Go语言代码中将汇编语言定义的符号声明出来。


### 定义整数变量

使用`go tool compile -S dump.go`导出的知识目标文件对应的汇编，和Go汇编语言虽然相似但并不完全等价。Go汇编语言提供了`DATA`命令用于初始化包变量，语法如下
```asm
DATA symbol+offset(SB)/width, value
```
其中`symbol`为变量在汇编语言中对应的标识符，`offset`是符号开始地址的偏移量，`width`是要初始化内存的宽度大小，`value`是要初始化的值。**当前包中定义的符号`xxx`，在汇编代码中对应的是`·xxx`**

变量定义好之后需要导出以供其他代码引用，Go汇编代码提供了`GLOBL`命令用于将符号导出
```asm
GLOBL symbol(SB), width
```
