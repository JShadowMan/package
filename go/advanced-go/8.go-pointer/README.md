CGO编程 - 指针间转换
------------------

实现指针间的自由转换是CGO代码中经常要解决的一个重要的问题。CGO存在的一个目的就是打破Go语言关于指针类型转换的限制，恢复C语言应有的指针的自由转换和指针运算。

在Go语言中为了实现不同类型指针的转换，需要借助`unsafe.Pointer`作为中间桥接类型来实现。

`unsafe.Pointer`指针类型类似于C语言中的`void*`类型的指针。

__任何类型的指针都可以通过强制转换为`unsafe.Pointer`指针类型去除原有的类型信息，然后再重新赋予新的指针类型以达到指针间自由转换的目的。__


### 数值和指针类型的转换

为了严格控制指针的使用，Go语言禁止将数值类型直接转换为指针类型。但是我们可以以`uintptr`为中介，实现数值类型到`unsafe.Pointer`类型的转换。这样就可以实现从数值类型到Go指针类型之间的转换了。


### 切片间的转换

通过`reflect`包提供的切片类型的底层数据结构，结合之前数值类型与指针类型的转换，就可以实现不同切片类型之间的转换。

__如果切片元素类型之间的大小不同，还需要重新设置Len和Cap属性。__
